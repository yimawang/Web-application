<!DOCTYPE html>
<html>
<head>
<meta content='text/html; charset=utf-8' http-equiv='content-type'>
<title>Highway Traffic</title>
<link rel="stylesheet" href="css/style.css" />

<script src="http://tablesorter.com/jquery-latest.js" type="text/javascript"></script> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> 
<script src="http://tablesorter.com/__jquery.tablesorter.min.js" type="text/javascript"></script>
<script type="text/javascript">
  $(document).ready(function() 
  {      
      $("#keywords").tablesorter();
  }); 
</script>
<script type='text/javascript'>
  $(document).ready(function()
  {
    $('button').on('click', function()
    {
      var val = JSON.parse($('#location').val());
      console.log(val);
      var date = document.getElementById("myDate").value;
      var hour = $('#select-box').val();
      //var loc_id = $('#location').val();
      var loc_name = $("#location option:selected").html();
      var sw_id = $("#location option:selected").attr('value');
      var ne_id = $("#location option:selected").attr('id');
      //alert(ne_id)
      //console.log(a)
      var request = $.ajax({'url': '/getData?date='+date+'&hour='+hour + '&loc_id=' + sw_id + '&ne_id=' + ne_id});
      request.done(function(response)
      {
        $('#foo').text(response.foo);
        $('#foo_one').text(response.foo_one);
        $('#foo_two').text(response.foo_two);
        $('#foo_three').text(response.foo_three);
        $('#foo_four').text(response.foo_four);
        $('#foo_five').text(response.foo_five);
        $('#foo_six').text(response.foo_six);
        $('#foo_seven').text(response.foo_seven);

        $('#hour').text(response.hour);
        $('#hour_one').text(response.hour_one);
        $('#hour_two').text(response.hour_two);
        $('#hour_three').text(response.hour_three);
        $('#hour_four').text(response.hour_four);
        $('#hour_five').text(response.hour_five);
        $('#hour_six').text(response.hour_six);
        $('#hour_seven').text(response.hour_seven);

        $('#loc1').text(response.loc1);
        $('#ne').text(response.speed_ne);
        $('#ne1').text(response.speed_ne1);
        $('#ne2').text(response.speed_ne2);
        $('#ne3').text(response.speed_ne3);
        $('#ne4').text(response.speed_ne4);
        $('#ne5').text(response.speed_ne5);
        $('#ne6').text(response.speed_ne6);
        $('#ne7').text(response.speed_ne7);
        //alert(speed_ne)
      });
      request.fail(function(jqXHR, textStatus)
      {
        alert('Request failed: ' + textStatus);
      });
    })
  });
</script>
</head>
<body>
  <p>Select Date</p>
  <input type="date" id="myDate">
  <p>Select Hour</p>
  <select id="select-box">
  <option value="00">00</option>
  <option value="01">01</option>
  <option value="02">02</option>
  <option value="03">03</option>
  <option value="04">04</option>
  <option value="05">05</option>
  <option value="06">06</option>
  <option value="07">07</option>
  <option value="08">08</option>
  <option value="09">09</option>
  <option value="10">10</option>
  <option value="11">11</option>
  <option value="12">12</option>
  <option value="13">13</option>
  <option value="14">14</option>
  <option value="15">15</option>
  <option value="16">16</option>
  <option value="17">17</option>
  <option value="18">18</option>
  <option value="19">19</option>
  <option value="20">20</option>
  <option value="21">21</option>
  <option value="22">22</option>
  <option value="23">23</option>
</select>

<p>Select Location</p>
  <select id="location">
  <!--  used SW ids -->
  <option value="0.96717" id="1.1709">HWY-401 Collectors@Allen Road/Exit 365</option>
  <option value="0.59942" id="0.49675">HWY-401 Collectors@Bathurst St/Exit 366</option>
  <option value="1.67345" id="1.15947">HWY-401 Collectors@Bayview Ave/Exit 371</option>
  <option value="0.45234" id="0.50391">HWY-401 Collectors@Brimley Rd/Exit 380</option>
  <option value="1.30271" id="0.91469">HWY-401 Collectors@Dixie Rd</option>
  <option value="1.26175" id="1.27186">HWY-401 Collectors@Dixie Rd/Renforth Dr/Exit 348</option>
  <option value="0.97891" id="0.41776">HWY-401 Collectors@Dufferin St/Exit 364</option>
  <option value="1.00087" id="1.22501">HWY-401 Collectors@HWY-11/Yonge St/Exit 369</option>
  <option value="0.73859" id="1.16416">HWY-401 Collectors@HWY-11A/Avenue Rd/Exit 367</option>
  <option value="1.65197" id="1.63225">HWY-401 Collectors@HWY-2/Port Union Rd</option>
  <option value="1.10302" id="0.95635">HWY-401 Collectors@HWY-400/Exit 359</option>
  <option value="1.5862" id="1.26175">1HWY-401 Collectors@HWY-401 Express</option>
  <option value="1.385" id="1.22858">HWY-401 Collectors@HWY-404/Don Valley Pky/Exit 375</option>
  <option value="0.88199" id="1.02575">HWY-401 Collectors@HWY-409/Islington Ave</option>
  <option value="1.42031" id="1.42031">HWY-401 Collectors@HWY-410/HWY-403</option>
  <option value="1.42748" id="1.42748">HWY-401 Collectors@HWY-410/HWY-403</option>
  <option value="0.60344" id="0.78187">HWY-401 Collectors@HWY-427</option>
  <option value="1.01376" id="1.03214">HWY-401 Collectors@HWY-48/Markham Rd/Exit 383</option>
  <option value="1.08435" id="1.25958">HWY-401 Collectors@Keele St/Exit 362</option>
  <option value="0.99111" id="1.05634">HWY-401 Collectors@Kennedy Rd/Exit 379</option>
  <option value="0.88791" id="1.01753">HWY-401 Collectors@Leslie St/Exit 373</option>
  <option value="1.22413" id="1.097">HWY-401 Collectors@McCowan Rd/Exit 381</option>
  <option value="1.28672" id="0.93493">HWY-401 Collectors@Meadowvale Rd/Exit 389</option>
  <option value="1.0121" id="1.48245">HWY-401 Collectors@Morningside Ave/Exit 387</option>
  
  <option value="0.9263" id="0.92776">HWY-401 Collectors@Neilson Rd/Exit 385</option>
  <!--<option value="1.46679">HWY-401 Collectors@RR-29/Liverpool Rd/Exit 397</option>-->
  <option value="1.04851" id="1.55153">HWY-401 Collectors@RR-38/Whites Rd/Exit 394</option>
  <option value="0.91469" id="1.30271">HWY-401 Collectors@RR-4/Dixie Rd/Exit 346</option>
  <option value="0.97455" id="0.31433">HWY-401 Collectors@Renforth Dr/Exit 348</option>
  <option value="0.9117" id="0.78888">HWY-401 Collectors@Rougemount Dr</option>
  <option value="0.72451" id="0.83326">HWY-401 Collectors@The Basketweave</option>
  <option value="0.83296" id="0.77108">HWY-401 Collectors@Victoria Park Ave/Exit 376</option>
  <option value="0.86824" id="0.97742">HWY-401 Collectors@Warden Ave/Exit 378</option>
  <option value="0.82364" id="0.97388">HWY-401 Collectors@Weston Rd/Exit 357</option>

  <option value="0.83218" id="1.19626">HWY-401 Express@Allen Road/Exit 365</option>
  <option value=" 0.58036" id="0.53617">HWY-401 Express@Bathurst St/Exit 366</option>
  <option value="1.54029" id="1.20979">HWY-401 Express@Bayview Ave/Exit 371</option>
  <option value="0.5503" id="0.7126">HWY-401 Express@Brimley Rd/Exit 380</option>
  <option value="0.39482" id="0.68054">HWY-401 Express@Carlingview Dr/Exit 351</option>
  <option value="1.34907" id="1.50276">HWY-401 Express@Dixie Rd/Renforth Dr/Exit 348</option>
  <option value="1.23478" id="1.40969">HWY-401 Express@Dixon Rd/Martin Grv Rd/Exit 354</option>
  <option value="0.95116" id="0.3737">HWY-401 Express@Dufferin St/Exit 364</option>
  <option value="1.45801" id="0.58389">HWY-401 Express@Eglinton Ave/Exit 350</option>
  <option value="0.70454" id="1.24244">HWY-401 Express@HWY-11/Yonge St/Exit 369</option>

  <option value="1.33443" id="1.0532">HWY-401 Express@HWY-11A/Avenue Rd/Exit 367</option>
  <option value="1.733" id="1.75128">HWY-401 Express@HWY-2/Port Union Rd</option>
  <option value="1.05016" id="1.32586">HWY-401 Express@HWY-400/Exit 359</option>
  <option value="1.34454" id="1.08014">HWY-401 Express@HWY-404/Don Valley Pky/Exit 375</option>
  <option value="1.07234" id="0.99866">HWY-401 Express@HWY-409/Islington Ave</option>
  <option value="0.85259" id="1.44636">HWY-401 Express@HWY-410/HWY-403</option>
  <option value="0.32613" id="0.56606">HWY-401 Express@HWY-427/Exit 352</option>
  <option value="0.54835" id="1.24136">HWY-401 Express@HWY-48/Markham Rd/Exit 383</option>
  <option value="1.19169" id="1.26428">HWY-401 Express@Keele St/Exit 362</option>
  <option value="0.92247" id="0.86913">HWY-401 Express@Kennedy Rd/Exit 379</option>
  <option value="0.95487" id="1.10453">HWY-401 Express@Leslie St/Exit 373</option>
  <option value="1.2847" id="0.98112">HWY-401 Express@McCowan Rd/Exit 381</option>
  <option value="1.3691" id="0.955">HWY-401 Express@Meadowvale Rd/Exit 389</option>
  <option value="0.90619" id="1.44819">HWY-401 Express@Morningside Ave/Exit 387</option>
  <option value="1.27064" id="0.79767">HWY-401 Express@Neilson Rd/Exit 385</option>
  <!--<option value="1.21382" id="1.24244">HWY-401 Express@RR-29/Liverpool Rd/Exit 397</option>-->
  <option value="1.29862" id="1.67041">HWY-401 Express@RR-38/Whites Rd/Exit 394</option>
  <option value="0.98513" id="1.30446">HWY-401 Express@RR-4/Dixie Rd/Exit 346</option>
  <option value="0.83211" id="0.60035">HWY-401 Express@Rougemount Dr</option>
  <option value="0.67059" id="0.75949">HWY-401 Express@The Basketweave</option>
  <option value="0.79105" id="0.84422">HWY-401 Express@Victoria Park Ave/Exit 376</option>
  <option value="0.9196" id="0.9567">HWY-401 Express@Warden Ave/Exit 378</option>
  <option value="1.12735" id="0.68847">HWY-401 Express@Weston Rd/Exit 357</option>


</select>
  <button type="button" class="btn btn-success">Predict</button>
  <div id = "predict">
      <h2>Predicted Average Traffic Speed for Southbound/Westbound</h2>
    <p id='foo'></p>
      <h2>Predicted Average Traffic Speed for Northbound/Eastbound</h2>
    <p id='ne'></p>
  </div>

  <!--
  sortable table -->
  <div id="wrapper">
  <h1>Average Speed forecast for next seven hours</h1>
  <h3>(after the predicted hour)</h3>
  
  <table id="keywords" class="tablesorter" cellspacing="0" cellpadding="0">
    <thead>
      <tr>
        <th><span><div class="title">Time<div></span></th>
        <th><span><div class="title">Average Delay<br>(Southbound/Westbound)<div></span></th>
        <th><span><div class="title">Average Delay<br>(Northbound/Eastbound)<div></span></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="lalign"><div id='hour_one'>Hour+1</div></td>
        <td><div id='foo_one'>Speed1</div></td>
        <td><div id='ne1'>Speed1</div></td>
      </tr>
      <tr>
        <td class="lalign"><div id='hour_two'>Hour+2</div></td>
        <td><div id='foo_two'>Speed2</div></td>
        <td><div id='ne2'>Speed2</div></td>
      </tr>
      <tr>
        <td class="lalign"><div id='hour_three'>Hour+3</div></td>
        <td><div id='foo_three'>Speed3</div></td>
        <td><div id='ne3'>Speed3</div></td>
      </tr>
      <tr>
        <td class="lalign"><div id='hour_four'>Hour+4</div></td>
        <td><div id='foo_four'>Speed4</div></td>
        <td><div id='ne4'>Speed4</div></td>
      </tr>
      <tr>
        <td class="lalign"><div id='hour_five'>Hour+5</div></td>
        <td><div id='foo_five'>Speed5</div></td>
        <td><div id='ne5'>Speed5</div></td>
      </tr>
      <tr>
        <td class="lalign"><div id='hour_six'>Hour+6</div></td>
        <td><div id='foo_six'>Speed6</div></td>
        <td><div id='ne6'>Speed6</div></td>
      </tr>
      <tr>
        <td class="lalign"><div id='hour_seven'>Hour+7</div></td>
        <td><div id='foo_seven'>Speed7</div></td>
        <td><div id='ne7'>Speed7</div></td>
      </tr>
    </tbody>
  </table>
 </div> 

 <!--  
  <div id='foo_one'></div>
  <div id='foo_two'></div>
  <div id='foo_three'></div>
  <div id='foo_four'></div>
  <div id='foo_five'></div>
  <div id='foo_six'></div>
  <div id='foo_seven'></div>

  <div id='hour'></div>
  <div id='hour_one'></div>
  <div id='loc1'></div>
  <div id='speed_ne'></div>

 
  <div id='foo3'></div>
  <div id='foo4'></div>
  <div id='foo5'></div>
  <div id='foo6'></div>
  <div id='foo7'></div>
  -->
<!--
  <h1>testing</h1>
  <div id='baz'></div>-->
</body>
</html>
